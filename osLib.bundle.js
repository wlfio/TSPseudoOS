!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=14)}([,function(e,r){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var o=new Uint8Array(16);e.exports=function(){return t(o),o}}else{var n=new Array(16);e.exports=function(){for(var e,r=0;r<16;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n}}},function(e,r){for(var t=[],o=0;o<256;++o)t[o]=(o+256).toString(16).substr(1);e.exports=function(e,r){var o=r||0,n=t;return[n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]]].join("")}},,function(e,r,t){var o=t(11),n=t(12),s=n;s.v1=o,s.v4=n,e.exports=s},,,,,,,function(e,r,t){var o,n,s=t(1),i=t(2),c=0,a=0;e.exports=function(e,r,t){var l=r&&t||0,d=r||[],u=(e=e||{}).node||o,f=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==f){var p=s();null==u&&(u=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=n=16383&(p[6]<<8|p[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:a+1,g=v-c+(m-a)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||v>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=v,a=m,n=f;var y=(1e4*(268435455&(v+=122192928e5))+m)%4294967296;d[l++]=y>>>24&255,d[l++]=y>>>16&255,d[l++]=y>>>8&255,d[l++]=255&y;var h=v/4294967296*1e4&268435455;d[l++]=h>>>8&255,d[l++]=255&h,d[l++]=h>>>24&15|16,d[l++]=h>>>16&255,d[l++]=f>>>8|128,d[l++]=255&f;for(var P=0;P<6;++P)d[l+P]=u[P];return r||i(d)}},function(e,r,t){var o=t(1),n=t(2);e.exports=function(e,r,t){var s=r&&t||0;"string"==typeof e&&(r="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r)for(var c=0;c<16;++c)r[s+c]=i[c];return r||n(i)}},,function(e,r,t){"use strict";t.r(r);var o=t(4),n=t.n(o);const s={loadArgs:(e,r,t)=>{let o=[];for(let n=0;n<e.length;n++){let s=e[n];if(s.startsWith("--")&&s.length>2){if(s=s.slice(2),!r.hasOwnProperty(s))return Promise.reject(new Error(["Load Args Error","unrecognized option '--"+s+"'\nTry '--help' for more information.",JSON.stringify(e)].join(" : ")));n<e.length-1&&!e[n+1].startsWith("-")&&"boolean"!=typeof r[s]?(n++,r[s]=e[n]):r[s]=!r[s]}else if(s.startsWith("-")&&s.length>1&&"--"!==s){s=s.slice(1);for(let e=0;e<s.length;e++){const o=s.charAt(e);t.hasOwnProperty(o)&&(r[t[o]]=!r[t[o]])}}else o=[...o,s]}return Promise.resolve(o)},bytesToHuman:(e,r,t)=>{(t=!0===t)&&(e*=8);const o=(r=!0===r)?1e3:1024,n=t?r?["b","kb","mb","gb","pb"]:["b","Kb","Mb","Gb","Pb"]:r?["B","kB","mB","gB","pB"]:["B","KB","MB","GB","PB"];let s=0;for(;e>o;)e/=o,s++;return Math.round(e)+n[s]}},i=(e,r)=>{if(!(e=>{return/[0-9A-F]{3}/g.test(e)})(e))throw new Error(["CMD Error",r,"Must be 3 hex chars"].join(" : "))};var c={Colours:{red:"F00",green:"0F0",blue:"23F",black:"000",white:"FFF",lightBlue:"38F"},Colourize:(e,r,t)=>(t=(t=t||"000").toUpperCase(),r=r.toUpperCase(),i(r),i(t),"ยง"+r+t+e)},a=console.log;console.log=(...e)=>{console.trace(),a(PROCESS.exec+"["+PROCESS.id+"]",...e)},delete window.localStorage,delete window.sessionStorage;const l={},d={},u=(e,r,t)=>{const o={service:e[0],func:e[1]};window.parent.postMessage({type:o,data:r,id:t},location.origin)},f=(e,r,t)=>{if("object"!=typeof e)return;const o=e.service+":"+e.func;if(("Std:in"!==o||!g(r))&&l.hasOwnProperty(o)){const n="string"==typeof t&&t.length>0;l[o].forEach(o=>{const s=o(r);n&&(s instanceof Promise?s.then(e=>u(["response"],e,t)):OS.Process.crash(["Hook ERROR",e,"Did not return Promise"]))})}},p=(e,r)=>{const t=n.a.v4();return new Promise((o,n)=>{d[t]={resolve:o,reject:n},u(e,r,t)})};window.addEventListener("message",e=>{const r=e.data,t=r.type;if("response"===t.service&&r.id){if(d.hasOwnProperty(r.id)){const e=d[r.id];r.hasOwnProperty("error")?e.reject(r.error):e.resolve(r.data),delete d[r.id]}}else f(t,r.data,r.id)});const v=(e,r)=>{const t=e instanceof Array?e.join(":"):e.service+":"+e.func;l.hasOwnProperty(t)||(l[t]=[]),l[t]=[...l[t],r]},m={},g=e=>!(!m.hasOwnProperty(e.from)||"number"!=typeof e.from)&&(m[e.from].resolve(e),delete m[e.from],!0),y={FS:{read:e=>p(["FS","read"],e),write:(e,r)=>p(["FS","write"],{path:e,content:r}),list:e=>p(["FS","list"],e),mkdir:e=>p(["FS","mkdir"],e),touch:e=>p(["FS","touch"],e),del:e=>p(["FS","del"],e),resolve:e=>p(["FS","resolve"],e),append:(e,r)=>p(["FS","append"],{path:e,content:r}),fileExists:e=>p(["FS","fileExists"],e),dirExists:e=>p(["FS","dirExists"],e),delDir:e=>p(["FS","delDir"],e)},Std:{out:e=>u(["Std","out"],e),inEvent:e=>v({service:"Std",func:"in"},e),prompt:e=>u(["Std","prompt"],e),in:(e,r,t)=>u(["Std","in"],{pid:e,data:r,source:t})},Out:{print:(e,r)=>u(["Out","print"],{txt:e,over:r||0}),printLn:(e,r)=>u(["Out","println"],{txt:e,over:r||0})},Process:{startEvent:e=>v(["Process","start"],e),msgEvent:e=>v(["Process","msg"],e),endEvent:e=>v(["Process","end"],e),selfEvent:e=>v(["Process","self"],e),msg:(e,r)=>p(["Process","msg"],{pid:e,msg:r}),end:()=>u(["Process","end"]),crash:e=>u(["Process","crash"],e instanceof Error?["ERROR",...e.message.split(" : ")]:e),ready:()=>u(["Process","ready"]),start:(e,r)=>p(["Process","start"],{exec:e,params:r}),kill:e=>p(["Process","kill"],e),list:()=>p(["Process","list"]),self:()=>p(["Process","self"]),startAndAwaitOutput:(e,r)=>((e,r)=>new Promise((t,o)=>{OS.Process.start(e,r).then(e=>{m[e.id]={resolve:t,reject:o}}).catch(e=>o(e))}))(e,r),changeWorkingDir:(e,r)=>p(["Process","changeWorkingDir"],{path:e,pid:r})},Remote:{connect:e=>p(["Remote","connect"],e),disconnect:e=>p(["Remote","disconnect"],e),in:(e,r,t)=>u(["Remote","in"],{id:e,data:r,source:t}),outEvent:e=>v(["Remote","out"],e)},Util:s};window.OS=y,window.CMD=c,document.addEventListener("DOMContentLoaded",()=>{p(["boot"]).then(e=>{f({service:"Process",func:"start"},e)})})}]);
//# sourceMappingURL=osLib.bundle.js.map